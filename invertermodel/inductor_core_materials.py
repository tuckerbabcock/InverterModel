from dataclasses import dataclass

import numpy as np


@dataclass
class Air:
    """
    This class supports a hypothetical air-core inductor
    """
    saturation_flux: float = np.inf
    relative_permeability = 1.0
    density: float = 1.225
    steinmetz_params = np.array(
        [0.0, 0.0, 0.0])  # k, alpha, beta
    f_units: str = 'kHz'
    B_units: str = 'T'
    loss_units: str = 'W/kg'


@dataclass
class FE4491:
    """
    This class defines the material properties for an amorphous core inductor based on the 
    specifications from the following website:
        https://www.samaterials.com/amorphous-inductor-filter-core.html

    The Steinmetz coefficients have been obtained by curve fitting experimentally obtained loss
    data at different flux density and frequency excitations in the file fit_steinmetz_data.py
    """
    saturation_flux: float = 1.56
    relative_permeability = np.array([200, 1200])
    density: float = 7180
    steinmetz_params = np.array(
        [3.33576206, 1.27791314, 1.82188315])  # k, alpha, beta
    f_units: str = 'kHz'
    B_units: str = 'T'
    loss_units: str = 'W/kg'

    # 10 kHz
    _loss_vs_gauss_10khz = np.array([
        [1070.1123728168952, 1.0280255154668028],
        [1237.447714353702, 1.4121022538545538],
        [1341.8387902304144, 1.6237738281530294],
        [1475.874143821694, 1.939672454954263],
        [1586.259772158897, 2.2653104155575168],
        [1765.6893202385627, 2.779535878930603],
        [2346.519869885891, 4.717834531850984],
        [2496.1703734250523, 5.3565801272395825],
        [2824.7121683184764, 6.619051710047244],
        [3061.111757879066, 7.730277728894881],
        [3442.660234844462, 9.825568503576436],
        [3929.6433672041176, 12.488787570673052],
        [4068.0766890712484, 13.028724840820358],
        [4565.718268191472, 16.560159017214133],
        [5113.686361752332, 20.319315107115013],
        [5610.596936356845, 24.067755995336157],
        [6042.672487082098, 27.519726053379756],
        [7433.211955116107, 39.99587510136496],
        [8214.5541668391, 47.70955256763762],
        [9469.75996051643, 63.262968698060604]])

    # 20 kHz
    _loss_vs_gauss_20khz = np.array([
        [1029.8699653439878, 2.9367596745329565],
        [1124.370327884252, 3.434633903638492],
        [1205.356773735682, 3.7778014438762137],
        [1298.1820466504823, 4.2441294395385425],
        [1475.874143821694, 5.281537826282862],
        [1569.9987713681403, 5.8297626440735675],
        [1735.9233440649111, 6.905218216688701],
        [1843.7807735664949, 7.6219814252774345],
        [2016.7021667673594, 8.99627282988281],
        [2365.942766121393, 11.803517102874943],
        [2655.364914283878, 14.38110941834994],
        [2913.39382180751, 17.521583295895727],
        [3176.7949117575076, 20.17648271580211],
        [3453.3187173964993, 23.07033847140639],
        [3753.912510934948, 26.754059214392488],
        [4018.0851297486183, 29.740192005682726],
        [4204.44935118245, 32.59647523647663],
        [4603.510180078391, 38.60976652824424],
        [4881.986753589626, 42.617469003563976],
        [5601.931842209081, 54.36032535228951],
        [6168.4926586354895, 63.710816879925346],
        [6823.921669235577, 75.99820129841835],
        [7387.398346911759, 87.51357505966752],
        [8168.132024164273, 103.65779356795787],
        [8810.772434140852, 116.69991359932106],
        [9528.487519563207, 133.62624425373505],
        [10389.961852158154, 156.0598141849452]])

    # 50 kHz
    _loss_vs_gauss_50khz = np.array([
        [1015.3292448131206, 8.901582257234267],
        [1136.0158062911532, 10.99956163490381],
        [1300.1900806594645, 13.592005630428183],
        [1550.7054559480634, 17.896337625646595],
        [1765.6893202385627, 21.881491643791318],
        [1901.66615017409, 25.10829563116193],
        [2043.8982054975809, 28.30730529465441],
        [2226.3925807704745, 32.36734189798297],
        [2383.0696362042936, 35.979996719217546],
        [2700.8966072823937, 44.9329255387334],
        [3242.9419487914943, 63.262968698060604],
        [3561.7354323163936, 75.46398029885663],
        [3936.127317959156, 90.01810126436263],
        [4234.885023101038, 103.65779356795787],
        [4846.900429797459, 131.75422505514],
        [5487.102519002572, 165.1200951960138],
        [6098.970803680097, 199.7640258104001],
        [6691.624101547638, 231.6610387862709],
        [7184.706360518767, 274.3971106182482],
        [8050.31736109, 330.56641050431705],
        [8865.413223403837, 401.61898728238816]])
